<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Smart Task Analyzer - Intelligent task prioritization powered by AI-inspired algorithms">
    <title>Smart Task Analyzer | Intelligent Task Prioritization</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app-layout">
        <!-- LEFT SIDEBAR: CONTROLS -->
        <aside class="app-sidebar">
            <header class="sidebar-header">
                <div class="logo-mark">
                    <div class="logo-icon"></div>
                </div>
                <div>
                    <h1>Singularium</h1>
                    <p class="subtitle">Intelligent Task Orchestration</p>
                </div>
            </header>

            <div class="sidebar-content">
                <!-- Input Tabs -->
                <div class="input-tabs">
                    <button class="tab-btn active" data-tab="form-input">Manual Entry</button>
                    <button class="tab-btn" data-tab="json-input">JSON Import</button>
                </div>

                <!-- Form Input Section -->
                <section id="form-input" class="input-section active">
                    <form id="task-form">
                        <div class="form-group">
                            <label for="task-title">Task Title <span class="required">*</span></label>
                            <input type="text" id="task-title" placeholder="What needs to be done?" required>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="task-date">Due Date <span class="required">*</span></label>
                                <input type="date" id="task-date" required>
                            </div>
                            <div class="form-group">
                                <label for="task-hours">Est. Hours <span class="required">*</span></label>
                                <input type="number" id="task-hours" min="0.5" step="0.5" placeholder="e.g. 2" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Importance: <span id="importance-value" class="highlight-value">5</span>/10</label>
                            <input type="range" id="task-importance" min="1" max="10" value="5" class="slider">
                            <div class="slider-labels">
                                <span>Low</span>
                                <span>High</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Dependencies <span class="help-text">(Select prerequisites)</span></label>
                            <div id="dependency-selector" class="dependency-selector">
                                <p class="empty-state">No other tasks available</p>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary btn-block">
                            <span>Add Task to Queue</span>
                        </button>
                    </form>
                </section>

                <!-- JSON Input Section -->
                <section id="json-input" class="input-section">
                    <div class="form-group">
                        <label for="json-data">Paste JSON Data</label>
                        <textarea id="json-data" placeholder='[{"title": "Task 1", ...}]'></textarea>
                    </div>
                    <button id="load-json-btn" class="btn btn-secondary btn-block">Load Data</button>
                </section>

                <!-- Current Queue Preview -->
                <div class="queue-preview">
                    <div class="queue-header">
                        <h3>Task Queue</h3>
                        <span id="task-count" class="badge">0</span>
                    </div>
                    <div id="task-list-preview" class="queue-list">
                        <p class="empty-queue">Queue is empty</p>
                    </div>
                </div>

                <!-- Strategy & Config -->
                <div class="strategy-panel">
                    <h3>Analysis Configuration</h3>
                    <div class="form-group">
                        <label for="strategy-selector">Prioritization Strategy</label>
                        <select id="strategy-selector" class="strategy-select">
                            <option value="smart_balance">Smart Balance (Recommended)</option>
                            <option value="fastest_wins">Fastest Wins</option>
                            <option value="high_impact">High Impact</option>
                            <option value="deadline_driven">Deadline Driven</option>
                            <option value="custom">Custom Configuration</option>
                        </select>
                        <p id="strategy-description" class="strategy-hint">Balances all factors for optimal results</p>
                    </div>

                    <div id="advanced-config" class="advanced-config" style="display: none;">
                        <h4>Weight Distribution</h4>
                        <div class="weight-sliders">
                            <label>Urgency <span id="weight-urgency-value">40</span>%
                                <input type="range" id="weight-urgency" min="0" max="100" value="40" class="slider">
                            </label>
                            <label>Importance <span id="weight-importance-value">30</span>%
                                <input type="range" id="weight-importance" min="0" max="100" value="30" class="slider">
                            </label>
                            <label>Effort <span id="weight-effort-value">20</span>%
                                <input type="range" id="weight-effort" min="0" max="100" value="20" class="slider">
                            </label>
                            <label>Dependencies <span id="weight-dependencies-value">10</span>%
                                <input type="range" id="weight-dependencies" min="0" max="100" value="10"
                                    class="slider">
                            </label>
                            <div class="weight-footer">
                                <span id="total-weight">Total: 100%</span>
                                <button id="reset-weights-btn" class="btn-text">Reset</button>
                            </div>
                        </div>
                    </div>

                    <button id="analyze-btn" class="btn btn-accent btn-lg btn-block">
                        <span id="analyze-btn-text">Analyze & Prioritize</span>
                        <span id="analyze-loader" class="loader" style="display: none;"></span>
                    </button>
                </div>
            </div>
        </aside>

        <!-- MAIN CONTENT: RESULTS DASHBOARD -->
        <main class="app-main">
            <!-- Welcome State -->
            <div id="welcome-state" class="welcome-state">
                <div class="welcome-content">
                    <div class="welcome-icon">‚ö°</div>
                    <h2>Ready to Optimize</h2>
                    <p>Add tasks to the queue to generate your intelligent execution plan.</p>
                </div>
            </div>

            <!-- Results Dashboard -->
            <div id="results-content" class="results-dashboard" style="display: none;">
                <!-- Sticky Toolbar -->
                <div class="dashboard-toolbar">
                    <div class="toolbar-left">
                        <h2>Analysis Results</h2>
                        <span id="tasks-total" class="stats-badge">0 Tasks</span>
                    </div>
                    <div class="toolbar-right">
                        <button id="show-matrix-btn" class="btn btn-outline">
                            <span class="icon">‚äû</span> Eisenhower Matrix
                        </button>
                        <button id="show-graph-btn" class="btn btn-outline">
                            <span class="icon">üï∏</span> Dependency Graph
                        </button>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <!-- High Priority Column -->
                    <div class="dashboard-col">
                        <!-- Ready to Work -->
                        <section class="dashboard-card highlight-card">
                            <header class="card-header">
                                <h3>üöÄ Ready to Work</h3>
                                <span class="card-subtitle">Actionable Now</span>
                            </header>
                            <div id="ready-tasks-list" class="task-list-compact"></div>
                        </section>

                        <!-- Blocked Tasks -->
                        <section id="blocked-tasks-section" class="dashboard-card warning-card" style="display: none;">
                            <header class="card-header">
                                <h3>‚è≥ Blocked</h3>
                                <span class="card-subtitle">Waiting on Dependencies</span>
                            </header>
                            <div id="blocked-tasks-list" class="task-list-compact"></div>
                        </section>
                    </div>

                    <!-- Strategic View Column -->
                    <div class="dashboard-col">
                        <!-- Top 3 Overall -->
                        <section class="dashboard-card">
                            <header class="card-header">
                                <h3>üèÜ Strategic Top 3</h3>
                                <span class="card-subtitle">Highest Value Tasks</span>
                            </header>
                            <div id="top3-list" class="task-list-compact"></div>
                        </section>
                    </div>
                </div>

                <!-- All Tasks Table -->
                <section class="dashboard-card full-width">
                    <header class="card-header">
                        <h3>All Tasks</h3>
                        <div id="pagination-controls" class="pagination-controls" style="display: none;">
                            <button id="prev-page-btn" class="btn-icon" disabled>‚Üê</button>
                            <span id="page-info">Page 1</span>
                            <button id="next-page-btn" class="btn-icon" disabled>‚Üí</button>
                        </div>
                    </header>
                    <div id="all-tasks-list" class="all-tasks-grid"></div>
                </section>
            </div>
        </main>
    </div>

    <!-- Error Toast -->
    <div id="error-toast" class="toast error-toast" style="display: none;">
        <span id="error-message"></span>
        <button class="toast-close">&times;</button>
    </div>

    <!-- Success Toast -->
    <div id="success-toast" class="toast success-toast" style="display: none;">
        <span id="success-message"></span>
        <button class="toast-close">&times;</button>
    </div>

    <!-- Eisenhower Matrix Modal -->
    <div id="matrix-modal" class="modal" style="display: none;">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Eisenhower Matrix View</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="matrix-grid" class="matrix-grid">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Dependency Graph Modal -->
    <div id="graph-modal" class="modal" style="display: none;">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Task Dependency Graph</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <canvas id="graph-canvas" width="800" height="600"></canvas>
                <div id="circular-warning" class="alert alert-warning" style="display: none;">
                    Warning: Circular dependencies detected!
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="script.js"></script>
</body>

</html>